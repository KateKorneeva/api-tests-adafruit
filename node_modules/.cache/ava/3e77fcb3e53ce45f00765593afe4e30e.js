"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.responseErrMessage = exports.logout = exports.auth = exports.getApi = void 0;

var _ava = _interopRequireDefault(require("ava"));

var _axios = _interopRequireDefault(require("axios"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const BASE_URL = process.env.API || 'https://io.adafruit.com/api/v2/';
const ADAFRUIT_IO_USERNAME = 'korneed';
const ADAFRUIT_IO_KEY = '8efc2eaa75be4f81be7b92feb131cfb2'; // curl -H "X-AIO-Key: b780002b85d6411ca0ad9f9c60195f72" \
// https://io.adafruit.com/api/v2/test_username/feeds

const getApi = async () => {
  const client = _axios.default.create({
    baseURL: BASE_URL + ADAFRUIT_IO_USERNAME,

    validateStatus() {
      return true;
    }

  });

  return client;
};

exports.getApi = getApi;

const auth = api => {
  api.defaults.headers['X-AIO-Key'] = ADAFRUIT_IO_KEY;
};

exports.auth = auth;

const logout = api => {
  delete api.defaults.headers['X-AIO-Key'];
};

exports.logout = logout;

const responseErrMessage = response => {
  return JSON.stringify(response.data, null, 2);
};

exports.responseErrMessage = responseErrMessage;
//# sourceMappingURL=/home/kate/moeco/adafruit/node_modules/.cache/ava/3e77fcb3e53ce45f00765593afe4e30e.js.map