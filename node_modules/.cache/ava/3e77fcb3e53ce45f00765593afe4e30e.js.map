{"version":3,"sources":["test/helpers/shortcuts.js"],"names":["BASE_URL","process","env","API","ADAFRUIT_IO_USERNAME","ADAFRUIT_IO_KEY","getApi","client","axios","create","baseURL","validateStatus","auth","api","defaults","headers","logout","responseErrMessage","response","JSON","stringify","data"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,GAAZ,IAAmB,iCAApC;AACA,MAAMC,oBAAoB,GAAG,SAA7B;AACA,MAAMC,eAAe,GAAG,kCAAxB,C,CAEI;AACA;;AAEG,MAAMC,MAAM,GAAG,YAAY;AAC9B,QAAMC,MAAM,GAAGC,eAAMC,MAAN,CAAa;AACxBC,IAAAA,OAAO,EAAEV,QAAQ,GAAGI,oBADI;;AAExBO,IAAAA,cAAc,GAAG;AAAE,aAAO,IAAP;AAAc;;AAFT,GAAb,CAAf;;AAKA,SAAOJ,MAAP;AACH,CAPM;;;;AASA,MAAMK,IAAI,GAAGC,GAAG,IAAI;AACvBA,EAAAA,GAAG,CAACC,QAAJ,CAAaC,OAAb,CAAqB,WAArB,IAAoCV,eAApC;AACH,CAFM;;;;AAIA,MAAMW,MAAM,GAAGH,GAAG,IAAI;AACzB,SAAOA,GAAG,CAACC,QAAJ,CAAaC,OAAb,CAAqB,WAArB,CAAP;AACH,CAFM;;;;AAIA,MAAME,kBAAkB,GAAGC,QAAQ,IAAI;AAC1C,SAAOC,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACG,IAAxB,EAA8B,IAA9B,EAAoC,CAApC,CAAP;AACH,CAFM","sourceRoot":"/home/kate/moeco/adafruit","sourcesContent":["import test from 'ava';\nimport axios from 'axios';\n\nconst BASE_URL = process.env.API || 'https://io.adafruit.com/api/v2/';\nconst ADAFRUIT_IO_USERNAME = 'korneed';\nconst ADAFRUIT_IO_KEY = '8efc2eaa75be4f81be7b92feb131cfb2';\n\n    // curl -H \"X-AIO-Key: b780002b85d6411ca0ad9f9c60195f72\" \\\n    // https://io.adafruit.com/api/v2/test_username/feeds\n\nexport const getApi = async () => {\n    const client = axios.create({\n        baseURL: BASE_URL + ADAFRUIT_IO_USERNAME,\n        validateStatus() { return true; },\n    });\n\n    return client;\n};\n\nexport const auth = api => {\n    api.defaults.headers['X-AIO-Key'] = ADAFRUIT_IO_KEY;\n};\n\nexport const logout = api => {\n    delete api.defaults.headers['X-AIO-Key'];\n};\n\nexport const responseErrMessage = response => {\n    return JSON.stringify(response.data, null, 2);\n};"]}