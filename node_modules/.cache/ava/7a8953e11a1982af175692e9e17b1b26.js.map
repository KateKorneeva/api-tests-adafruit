{"version":3,"sources":["test/helpers/pretest.js"],"names":["test","before","t","context","api","respFeeds","get","is","status","feeds","data","feedKey","i","key","respDelete","delete"],"mappings":";;AAAA;;AACA;;;;AAMAA,aAAKC,MAAL,CAAY,kBAAZ,EAAgC,MAAMC,CAAN,IAAW;AACvC;AACAA,EAAAA,CAAC,CAACC,OAAF,CAAUC,GAAV,GAAgB,MAAM,wBAAtB;AACA,uBAAKF,CAAC,CAACC,OAAF,CAAUC,GAAf,EAHuC,CAKvC;;AACA,QAAMC,SAAS,GAAG,MAAMH,CAAC,CAACC,OAAF,CAAUC,GAAV,CAAcE,GAAd,CAAkB,QAAlB,CAAxB;AACAJ,EAAAA,CAAC,CAACK,EAAF,CAAKF,SAAS,CAACG,MAAf,EAAuB,GAAvB,EAA4B,mCAAIH,SAAJ,CAA5B;AACA,QAAMI,KAAK,GAAGJ,SAAS,CAACK,IAAxB;AACA,MAAIC,OAAJ;;AACA,OAAK,IAAIC,CAAT,IAAcH,KAAd,EAAqB;AACjBE,IAAAA,OAAO,GAAGF,KAAK,CAACG,CAAD,CAAL,CAASC,GAAnB;AACA,UAAMC,UAAU,GAAG,MAAMZ,CAAC,CAACC,OAAF,CAAUC,GAAV,CAAcW,MAAd,CAAsB,UAASJ,OAAQ,EAAvC,CAAzB;AACAT,IAAAA,CAAC,CAACK,EAAF,CAAKO,UAAU,CAACN,MAAhB,EAAwB,GAAxB,EAA6B,mCAAIM,UAAJ,CAA7B;AACH;AACJ,CAfD","sourceRoot":"/home/kate/moeco/adafruit","sourcesContent":["import test from 'ava';\nimport {\n    getApi,\n    auth,\n    responseErrMessage as err\n} from './shortcuts';\n\ntest.before('Delete all feeds', async t => {\n    // Authorise\n    t.context.api = await getApi();\n    auth(t.context.api);\n\n    // Delete all existing feeds\n    const respFeeds = await t.context.api.get('/feeds');\n    t.is(respFeeds.status, 200, err(respFeeds));\n    const feeds = respFeeds.data;\n    let feedKey;\n    for (let i in feeds) {\n        feedKey = feeds[i].key;\n        const respDelete = await t.context.api.delete(`/feeds/${feedKey}`);\n        t.is(respDelete.status, 200, err(respDelete));\n    }\n});"]}