{"version":3,"sources":["test/feed.test.js"],"names":["test","before","t","context","api","feedName","resp","post","is","status","get","data","owner","username"],"mappings":";;AAAA;;AACA;;;;AAEAA,aAAKC,MAAL,CAAY,oCAAZ,EAAkD,MAAMC,CAAN,IAAW;AACzDA,EAAAA,CAAC,CAACC,OAAF,CAAUC,GAAV,GAAgB,MAAM,wBAAtB;AACA,QAAM,qBAAKF,CAAC,CAACC,OAAF,CAAUC,GAAf,CAAN;AACH,CAHD;;AAKA,kBAAK,mBAAL,EAA0B,MAAMF,CAAN,IAAW;AACjC,QAAMG,QAAQ,GAAG,eAAjB;AACA,QAAMC,IAAI,GAAI,MAAMJ,CAAC,CAACC,OAAF,CAAUC,GAAV,CAAcG,IAAd,CAAoB,UAASF,QAAS,EAAtC,CAApB;AACAH,EAAAA,CAAC,CAACM,EAAF,CAAKF,IAAI,CAACG,MAAV,EAAkB,GAAlB,EAAuB,mCAAIH,IAAJ,CAAvB;AACH,CAJD,E,CAMA;AACA;AACA;AAEA;AACA;AACA;;AAEA,kBAAK,qBAAL,EAA4B,MAAMJ,CAAN,IAAW;AACnC,QAAMI,IAAI,GAAG,MAAMJ,CAAC,CAACC,OAAF,CAAUC,GAAV,CAAcM,GAAd,CAAkB,QAAlB,CAAnB;AACAR,EAAAA,CAAC,CAACM,EAAF,CAAKF,IAAI,CAACG,MAAV,EAAkB,GAAlB,EAAuB,mCAAIH,IAAJ,CAAvB;AACAJ,EAAAA,CAAC,CAACM,EAAF,CAAKF,IAAI,CAACK,IAAL,CAAU,CAAV,EAAaC,KAAb,CAAmBC,QAAxB,EAAkC,SAAlC;AACH,CAJD,E,CAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":"/home/kate/moeco/adafruit","sourcesContent":["import test from 'ava';\nimport { getApi, auth, responseErrMessage as err } from '../shortcuts';\n\ntest.before('Add authorization token to request', async t => {\n    t.context.api = await getApi();\n    await auth(t.context.api);\n});\n\ntest('Create feed works', async t => {\n    const feedName = 'autotest-feed';\n    const resp  = await t.context.api.post(`/feeds/${feedName}`);\n    t.is(resp.status, 200, err(resp));\n});\n\n// test('Create feed fails without token', async t => {\n//     t.pass();\n// });\n\n// test('Create feed fails with wrong inputs', async t => {\n//     t.pass();\n// });\n\ntest('Get all feeds works', async t => {\n    const resp = await t.context.api.get('/feeds');\n    t.is(resp.status, 200, err(resp));\n    t.is(resp.data[0].owner.username, 'korneed');\n});\n\n// // Get all feeds does not work without auth\n// // Get feed by id works\n// // Get feed by id does not work without auth\n\n// test('Add data to feed works', async t => {\n//     t.pass();\n// });\n// // And without auth - not\n\n// // Matrix with wrong inputs\n\n// test('Edit data in feed works', async t => {\n//     t.pass();\n// });\n// // And without auth - not\n\n// test('Delete data in feed works', async t => {\n//     t.pass();\n// });\n// // And without auth - not\n\n// test('Create dashboard works', async t => {\n//     t.pass();\n// });\n// // Edit, remove, and all witout auth and then with wrong inpts\n\n// // Also add tv4 validation\n\n// test.skip('Feeds are displayed in groups', async t => {\n//     const api = await getApi();\n//     await auth(api);\n//     const resp = await api.get('/groups');\n//     t.is(resp.status, 200);\n//     t.is(resp.data[0].feeds[0].name, 'new_feed');\n// });"]}